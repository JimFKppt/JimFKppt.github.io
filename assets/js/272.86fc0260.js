(window.webpackJsonp=window.webpackJsonp||[]).push([[272],{770:function(s,e,t){"use strict";t.r(e);var a=t(21),n=Object(a.a)({},(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"情景"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#情景"}},[s._v("#")]),s._v(" 情景")]),s._v(" "),t("p",[s._v("安装A软件无法成功，终端提示“安装A软件之前，需要先安装B软件”，于是安装B软件，终端又提示“安装B软件之前，需要先安装C软件”......")]),s._v(" "),t("p",[s._v("咋办？")]),s._v(" "),t("p",[s._v("配置yum本地源：一次解决所有软件包之间的依赖关系。")]),s._v(" "),t("h2",{attrs:{id:"yum"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#yum"}},[s._v("#")]),s._v(" yum")]),s._v(" "),t("p",[s._v("Yum（Yellow dog Updater, Modified）是由Duke University团队修改Yellow Dog Linux的Yellow Dog Updater开发而成，是一个基于RPM包管理的字符前端软件包管理器。能够从指定的服务器自动下载RPM包并且安装，可以处理依赖性关系，并且一次安装所有依赖的软件包，无须繁琐地一次次下载、安装。")]),s._v(" "),t("h2",{attrs:{id:"配置yum源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置yum源"}},[s._v("#")]),s._v(" 配置yum源")]),s._v(" "),t("h2",{attrs:{id:"测试能否通过rpm正常安装软件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#测试能否通过rpm正常安装软件"}},[s._v("#")]),s._v(" 测试能否通过rpm正常安装软件")]),s._v(" "),t("p",[s._v("以 "),t("code",[s._v("httpd")]),s._v(" 这个软件为例：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# rpm -i ./httpd-2.4.6-95.el7.centos.x86_64.rpm ")]),s._v("\n\nwarning: ./httpd-2.4.6-95.el7.centos.x86_64.rpm: Header V3 RSA/SHA256 Signature, key ID f4a80eb5: NOKEY\nerror: Failed dependencies:\n\t/etc/mime.types is needed by httpd-2.4.6-95.el7.centos.x86_64\n\thttpd-tools "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.4")]),s._v(".6-95.el7.centos is needed by httpd-2.4.6-95.el7.centos.x86_64\n\tlibapr-1.so.0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("64bit"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" is needed by httpd-2.4.6-95.el7.centos.x86_64\n\tlibaprutil-1.so.0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("64bit"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" is needed by httpd-2.4.6-95.el7.centos.x86_64\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("终端提示 "),t("code",[s._v("Failed dependencies")]),s._v(" ，缺少"),t("strong",[s._v("依赖")]),s._v("。")]),s._v(" "),t("h2",{attrs:{id:"yum配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#yum配置文件"}},[s._v("#")]),s._v(" yum配置文件")]),s._v(" "),t("ol",[t("li",[s._v("在用户目录下创建一个备份目录 "),t("code",[s._v("repoBackup")]),s._v("，用于备份其他的 yum 配置文件")]),s._v(" "),t("li",[s._v("切换目录至 "),t("code",[s._v("/etc/yum.repos.d/")])]),s._v(" "),t("li",[t("code",[s._v("mv")]),s._v(" 移动所有 "),t("code",[s._v(".repo")]),s._v(" 文件放到备份目录下：")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mv *.repo /etc/home/<userName>/repoBackup/\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ol",{attrs:{start:"4"}},[t("li",[s._v("在 "),t("code",[s._v("/etc/yum.repos.d/")]),s._v(" 目录下创建 "),t("code",[s._v("CentOS-Base.repo")]),s._v(" 文件")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("newreop"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nname "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" CentOS-new\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# name       仓库描述")]),s._v("\nbaseurl "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" file:///mnt/iso\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# baseurl    为软件仓库位置，也可以是线上软件仓库（此处为挂载的光盘）")]),s._v("\nenabled "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# enabled    是否启用这个仓库，1为启用，0为禁用")]),s._v("\ngpgcheck "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# gpgcheck   是否检查GPG签名（主要是用来验证软件包是不是红帽官方的）")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("ol",{attrs:{start:"5"}},[t("li",[s._v("保存退出。")])]),s._v(" "),t("h2",{attrs:{id:"安装软件及其依赖"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装软件及其依赖"}},[s._v("#")]),s._v(" 安装软件及其依赖")]),s._v(" "),t("ol",[t("li",[s._v("清除yum缓存：")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("yum clean all\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ol",{attrs:{start:"2"}},[t("li",[s._v("安装软件：")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("softwareName"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ol",{attrs:{start:"3"}},[t("li",[s._v("查看软件包信息：")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("yum info <sorftwareName>\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])}),[],!1,null,null,null);e.default=n.exports}}]);