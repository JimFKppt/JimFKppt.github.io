(window.webpackJsonp=window.webpackJsonp||[]).push([[239],{738:function(e,s,a){"use strict";a.r(s);var t=a(21),n=Object(t.a)({},(function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"清空表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#清空表"}},[e._v("#")]),e._v(" 清空表")]),e._v(" "),a("h2",{attrs:{id:"truncate-table"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#truncate-table"}},[e._v("#")]),e._v(" Truncate table")]),e._v(" "),a("p",[e._v("虽然 "),a("code",[e._v("delete from <TableName>")]),e._v(" 可以清空表，但它会一条一条的遍历这样删除，会很慢！")]),e._v(" "),a("p",[e._v("清空表通常使用 "),a("code",[e._v("truncate table <TableName>;")]),e._v("，它会克隆表的结构做个新表，然后把原表直接销毁掉。")]),e._v(" "),a("h2",{attrs:{id:"example"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#example"}},[e._v("#")]),e._v(" Example")]),e._v(" "),a("p",[e._v("有如下一张 "),a("code",[e._v("student")]),e._v(" 表：")]),e._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("+----+------+------+\n| id | name | age  |\n+----+------+------+\n|  1 | Tom  |   19 |\n|  2 | Tom  |   10 |\n|  3 | Jim  |   20 |\n|  4 | Jim  |   39 |\n+----+------+------+\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br")])]),a("p",[e._v("清空表：")]),e._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("turncate table student;\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("查看：成功")]),e._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("mysql> select * from student;\nEmpty set (0.00 sec)\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br")])]),a("h2",{attrs:{id:"反例-不建议使用-delete-from-tablename-来清空表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#反例-不建议使用-delete-from-tablename-来清空表"}},[e._v("#")]),e._v(" 反例 - 不建议使用 "),a("code",[e._v("delete from <TableName>")]),e._v(" 来清空表！")]),e._v(" "),a("p",[e._v("有如下一张 "),a("code",[e._v("student")]),e._v(" 表：")]),e._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("+----+-------+------+\n| id | name  | age  |\n+----+-------+------+\n|  2 | Tom   |   18 |\n|  3 | Jerry |   22 |\n+----+-------+------+\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br")])]),a("p",[e._v("使用 "),a("code",[e._v("delete from <TableName>")]),e._v(" 来清空表：")]),e._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("delete from student;\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("然后像下面这样追加一条数据（注意 "),a("code",[e._v("null")]),e._v("）：")]),e._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("insert into student values (null, 'Jim', 20);\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("查看表：")]),e._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("+----+-------+------+\n| id | name  | age  |\n+----+-------+------+\n|  4 | Jim   |   20 |\n+----+-------+------+\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br")])]),a("p",[e._v("注意这一条数据的 "),a("code",[e._v("id")]),e._v("，居然是 "),a("code",[e._v("4")]),e._v(" ?! ——一定要去研究一下为什么会这样。")]),e._v(" "),a("p",[e._v("而如果使用 "),a("code",[e._v("turncate table student")]),e._v(" 清空表则不会出现这样的情况。")])])}),[],!1,null,null,null);s.default=n.exports}}]);