(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{575:function(e,a,t){"use strict";t.r(a);var s=t(21),i=Object(s.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("div",{staticStyle:{"background-image":"url(https://cdn.jsdelivr.net/gh/JimFKppt/Pictures@master/static_files/img/milad-fakurian-UiiHVEyxtyA-unsplash.jpg)","background-size":"cover"}},[t("iframe",{attrs:{src:e.$withBase("/markmap/Markmap_Theory：Java Archive.html"),width:"100%",height:"450",frameborder:"0",scrolling:"No",leftmargin:"0",topmargin:"0"}})]),e._v(" "),t("h2",{attrs:{id:"what-is-java-archive"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-is-java-archive"}},[e._v("#")]),e._v(" What is Java Archive?")]),e._v(" "),t("p",[t("strong",[e._v("Java Archive (JAR)")]),e._v(" is a platform-independent file format to pack multiple files together and distribute them as a single unit. So it comes in handy if your application contains lots of files.")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://ucarecdn.com/76368b85-f033-4ac7-9185-dfaa43238e44/",alt:"img"}})]),e._v(" "),t("p",[e._v("These are the main benefits of a JAR file:")]),e._v(" "),t("ul",[t("li",[e._v("it can aggregate multiple files of different types;")]),e._v(" "),t("li",[e._v("it is a compressed archive (with a "),t("strong",[e._v("ZIP")]),e._v(" algorithm) that reduces the size of the application and makes it easier to move it over a network;")]),e._v(" "),t("li",[e._v("you can digitally sign it (this feature won't be discussed in this topic).")])]),e._v(" "),t("p",[e._v("A JRE can start an application packed into a JAR, but to create a JAR you need to use a JDK.")]),e._v(" "),t("h2",{attrs:{id:"the-structure-of-a-jar-file"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#the-structure-of-a-jar-file"}},[e._v("#")]),e._v(" The structure of a JAR file")]),e._v(" "),t("p",[e._v("A JAR file is simply an aggregation of bytecode files ("),t("code",[e._v(".class")]),e._v("), configuration files (e.g., "),t("code",[e._v(".json")]),e._v(", "),t("code",[e._v(".xml")]),e._v("), images, and even sound clips into a single compressed file. All files except bytecode files are usually called "),t("strong",[e._v("resources")]),e._v(". It is also recommended that a JAR file contains a special file named "),t("code",[e._v("MANIFEST.MF")]),e._v(" in a special folder named "),t("code",[e._v("META-INF")]),e._v(". This file should describe the JAR file itself (a manifest is a kind of metadata): its version, the author, and so on.")]),e._v(" "),t("p",[e._v("Here is the example of a structure of a JAR file:")]),e._v(" "),t("div",{staticClass:"language-no-highlight line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("example.jar\n├── META-INF\n│   └── MANIFEST.MF\n├── second\n│   ├── Main.class\n│   └── MyIcon.png\n└── third\n    └── another\n        └── OneMore.class\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br")])]),t("p",[e._v("Usually, a JAR file has a set of "),t("code",[e._v(".class")]),e._v(" grouped by "),t("strong",[e._v("packages")]),e._v(". For now, just imagine a package simply as a directory or some nested directories. In our example, there are two packages: "),t("code",[e._v("second")]),e._v(" and "),t("code",[e._v("third/another")]),e._v(". Also, to represent a specific package name "),t("strong",[e._v("dots")]),e._v(" are used "),t("strong",[e._v("instead of slashes")]),e._v(" (so "),t("code",[e._v("third.another")]),e._v(" notation would be correct in this case). Finally, there are some rules for naming the packages. For instance, a name can contain letters and digits, but no hyphens ("),t("code",[e._v("-")]),e._v(").")]),e._v(" "),t("p",[e._v("As you can see, JAR may have several packages and many "),t("code",[e._v(".class")]),e._v(" files and/or resources in these packages.")]),e._v(" "),t("p",[e._v("The manifest file has a set of headers. The name and the value are separated by a colon ("),t("code",[e._v(":")]),e._v("). Take a look at a small example below:")]),e._v(" "),t("div",{staticClass:"language-xml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[e._v("Manifest-Version: 1.0\nCreated-By: 9.0.1 (Oracle Corporation)\nMain-Class: second.Main\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br")])]),t("p",[e._v("The key feature here is the optional header "),t("code",[e._v("Main-Class")]),e._v(" that defines the relative path of a class with the "),t("code",[e._v("main")]),e._v(" method to start the application. The value shouldn't have the "),t("code",[e._v(".class")]),e._v(" extension appended to the class name.")]),e._v(" "),t("p",[e._v("It's important to remember that the "),t("strong",[e._v("last line")]),e._v(" of the manifest file should end with a "),t("strong",[e._v("new line or a carriage return")]),e._v(", or it will not be parsed properly.")]),e._v(" "),t("h2",{attrs:{id:"running-a-jar-file"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#running-a-jar-file"}},[e._v("#")]),e._v(" Running a JAR file")]),e._v(" "),t("p",[e._v("There are two ways to run a JAR file, depending on whether you want to use "),t("code",[e._v("Main-Class")]),e._v(" header in the manifest file or not.")]),e._v(" "),t("ul",[t("li",[e._v("if this header is not present or you want to specify the main class manually, run:")])]),e._v(" "),t("div",{staticClass:"language-no-highlight line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("java -cp app-without-main-class-header.jar path.to.Main\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("The last parameter here is the full class name (with packages). The "),t("code",[e._v("-cp")]),e._v(" option means "),t("strong",[e._v("classpath")]),e._v(" i.e. paths to all the JARs which the JRE should scan for bytecode and resources. If you want, you can repeat multiple "),t("code",[e._v("-cp path-to-Nth.jar")]),e._v(" pairs of parameters to provide the JRE with multiple different JAR files.")]),e._v(" "),t("ul",[t("li",[e._v("if this header is present, then run:")])]),e._v(" "),t("div",{staticClass:"language-no-highlight line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("java -jar app-with-main-class-header.jar\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("You can try executing both commands locally with these two JAR files (unpack top-level archives):")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://stepik.org/media/attachments/lesson/123928/app1.zip",target:"_blank",rel:"noopener noreferrer"}},[e._v("a demo application without Main-Class header"),t("OutboundLink")],1),e._v(" (path to main is "),t("code",[e._v("myapp.Main")]),e._v(");")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://stepik.org/media/attachments/lesson/123928/app2.zip",target:"_blank",rel:"noopener noreferrer"}},[e._v("a demo application with Main-Class header"),t("OutboundLink")],1),e._v(".")])]),e._v(" "),t("p",[e._v("Both of them print the same line:")]),e._v(" "),t("div",{staticClass:"language-no-highlight line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("Hello, Java\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("Also, you can find some JAR files on the Internet and try running those. At the same time, you can view their internal structure – just replace "),t("code",[e._v(".jar")]),e._v(" with "),t("code",[e._v(".zip")]),e._v(" and open these files as archives.")]),e._v(" "),t("h2",{attrs:{id:"conclusion"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#conclusion"}},[e._v("#")]),e._v(" Conclusion")]),e._v(" "),t("p",[e._v("Now you know what JAR is, what JAR files consist of, and how to run them on your computer. We have not discussed here how to create a JAR. Usually, developers use build tools (like Maven or Gradle) or an IDE (like IntelliJ IDEA or Eclipse), which we cover in other topics. You can also create them just by merging some files into a "),t("code",[e._v(".zip")]),e._v(" archive and renaming it into a "),t("code",[e._v(".jar")]),e._v(" file.")]),e._v(" "),t("p",[e._v("If you'd like to know more about the JAR file structure, read the "),t("a",{attrs:{href:"https://docs.oracle.com/javase/7/docs/technotes/guides/jar/jar.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("specification"),t("OutboundLink")],1),e._v(".")])])}),[],!1,null,null,null);a.default=i.exports}}]);