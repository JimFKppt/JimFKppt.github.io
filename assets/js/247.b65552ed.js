(window.webpackJsonp=window.webpackJsonp||[]).push([[247],{746:function(a,s,e){"use strict";e.r(s);var t=e(21),r=Object(t.a)({},(function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"主键-primary-key"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#主键-primary-key"}},[a._v("#")]),a._v(" 主键 primary key")]),a._v(" "),e("h2",{attrs:{id:"作用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#作用"}},[a._v("#")]),a._v(" 作用")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("保证数据的完整性，没有纰漏")])]),a._v(" "),e("li",[e("p",[a._v("加快查询数据的速度")])])]),a._v(" "),e("h2",{attrs:{id:"要点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#要点"}},[a._v("#")]),a._v(" 要点")]),a._v(" "),e("ol",[e("li",[a._v("一个表里只能有一个主键，但一个主键可以由多个字段组成。")]),a._v(" "),e("li",[a._v("主键不仅仅局限在一张表里，它可能是其它表使用数据的依据。在其它表里它就不叫主键了。")]),a._v(" "),e("li",[a._v("每条记录的主键值是唯一的，不能重复")]),a._v(" "),e("li",[a._v("主键给谁一定要给清楚。")]),a._v(" "),e("li",[a._v("主键不能为 "),e("code",[a._v("null")]),a._v(" 值，除非有 "),e("code",[a._v("auto_increment")]),a._v(" 属性。")])]),a._v(" "),e("h2",{attrs:{id:"主键的添加、删除"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#主键的添加、删除"}},[a._v("#")]),a._v(" 主键的添加、删除")]),a._v(" "),e("h3",{attrs:{id:"添加主键"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#添加主键"}},[a._v("#")]),a._v(" 添加主键")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("创建表时添加")]),a._v(" "),e("p",[a._v("创建表的时候，为避免混淆，建议直接将 "),e("code",[a._v("primary key")]),a._v(" 写在字段后面。虽然也可以写在更后面，但不推荐。")]),a._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("mysql> create table if not exists test(\n-> id int primary key,\n-> name varchar(30)\n-> );\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br")])]),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("mysql> create table if not exists test(\n    -> id int,\n    -> name varchar(30),\n    -> primary key (id)\n    -> );\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br")])]),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("mysql> desc test;\n+-------+-------------+------+-----+---------+-------+\n| Field | Type        | Null | Key | Default | Extra |\n+-------+-------------+------+-----+---------+-------+\n| id    | int(11)     | NO   | PRI | NULL    |       |\n| name  | varchar(30) | YES  |     | NULL    |       |\n+-------+-------------+------+-----+---------+-------+\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br")])])]),a._v(" "),e("li",[e("p",[a._v("后期添加主键")]),a._v(" "),e("p",[a._v("创建表的时候没设置主键，后期也是可以调整的。")]),a._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("alter table <TableName> add primary key (<FieldName>);\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[a._v("注意")]),a._v(" "),e("p",[a._v("在实际开发过程中，要设计一个关系型数据库，首先会把百分之八九十的结构都设计好，后期改变结构的情况是少之又少的。结构这东西牵一发而动全身，很麻烦的。")])])])]),a._v(" "),e("h3",{attrs:{id:"复合主键"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#复合主键"}},[a._v("#")]),a._v(" 复合主键")]),a._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("alter table <TableName> add primary key (<FieldName1>,<FieldName2>[,<FieldName3>...])\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h3",{attrs:{id:"删除主键"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#删除主键"}},[a._v("#")]),a._v(" 删除主键")]),a._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("alter table <TableName> drop primary key;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h2",{attrs:{id:"选择主键"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#选择主键"}},[a._v("#")]),a._v(" 选择主键")]),a._v(" "),e("p",[a._v("组合键基本上作用不大，只要有像身份证号、学号这种唯一的数据，谁TM还用组合键？")]),a._v(" "),e("p",[a._v("最好不要选择字符串类型作为主键，不然很不好处理，通常都是选择数字类型字段作为主键。")]),a._v(" "),e("p",[a._v("组和键（复合主键）也不是一无是处，如，一个网站、论坛的用户的昵称不能重名就可以使用组合键，但这样的话扩展性就没有那么好啦。")])])}),[],!1,null,null,null);s.default=r.exports}}]);