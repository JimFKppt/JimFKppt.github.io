(window.webpackJsonp=window.webpackJsonp||[]).push([[134],{634:function(e,t,a){"use strict";a.r(t);var s=a(21),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("p",[a("strong",[e._v("Spring Web MVC")]),e._v(", commonly known as "),a("strong",[e._v("Spring MVC,")]),e._v(" is one of the modules of the core Spring framework. Spring MVC is used to create websites and RESTful services. It provides ready components that simplify and speed up the development process.")]),e._v(" "),a("p",[e._v("As the name suggests, the Spring MVC framework follows the MVC (Model, View, Controller) pattern which helps to organize code by separating different parts of an application: input logic, UI logic, and business logic.")]),e._v(" "),a("p",[e._v("Applications commonly created with Spring MVC can be described by the type of data they return:")]),e._v(" "),a("ul",[a("li",[e._v("HTML: application creates web pages that can be viewed via a web browser (client). This type of app fully uses the underlying MVC pattern. The model stores the application data. The view is responsible for rendering model data and generating HTML output. The controller processes user requests, builds an appropriate model, and passes it to the view for rendering.")]),e._v(" "),a("li",[e._v("JSON/XML: the application provides RESTful services that generate JSON or XML data. Various kinds of clients, including other services, can use this kind of data. The structure of this type of program is similar to the first type, but View is absent and Spring MVC is no longer responsible for it. Instead, JSON/XML data is returned and some other program (client) is responsible for rendering and visualizing the returned model data.")])]),e._v(" "),a("p",[e._v("There are more types and formats that this framework can handle.")]),e._v(" "),a("p",[e._v("In this topic, you'll learn about the Spring Web MVC framework and we'll create a very simple web application that returns a \"Welcome!\" page. We'll start with the basics and won't be showing yet how MVC is implemented in Spring MVC. You'll learn that and other interesting features of this framework in the upcoming topics.")]),e._v(" "),a("h2",{attrs:{id:"dependency"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dependency"}},[e._v("#")]),e._v(" Dependency")]),e._v(" "),a("p",[e._v("To develop and run a Spring MVC web application in Spring Boot we need to include the following dependency in Spring Boot project.")]),e._v(" "),a("p",[e._v("For Gradle-based Spring Boot projects:")]),e._v(" "),a("div",{staticClass:"language-groovy line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-groovy"}},[a("code",[e._v("dependencies "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n   "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// ...")]),e._v("\n   implementation "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'org.springframework.boot:spring-boot-starter-web'")]),e._v("\n   "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// ...")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br")])]),a("p",[e._v("For Maven-based Spring Boot projects:")]),e._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("org.springframework.bootgroupId>\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("spring-boot-starter-webartifactId>\ndependency>\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br")])]),a("p",[e._v("This starter dependency is a combination of dependencies that are required to start writing web apps. It also provides auto-configuration, which means that after we've added the dependency we can start writing the application code. We can also override auto-configuration if we need to.")]),e._v(" "),a("p",[e._v("One of the included dependencies is an "),a("strong",[e._v("embedded server")]),e._v(" dependency.")]),e._v(" "),a("h2",{attrs:{id:"web-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#web-server"}},[e._v("#")]),e._v(" Web server")]),e._v(" "),a("p",[e._v("As you probably know, the difference between a web application and a usual app is that a web app requires a web server — a special program that is used to run it.")]),e._v(" "),a("p",[e._v("A server is called embedded when it is a part of an application and we don't need to install it separately. This is convenient because it allows us to package the whole application in one executable "),a("code",[e._v(".jar")]),e._v(" file that we can move and run like a regular application.")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("提示")]),e._v(" "),a("p",[e._v("We can also package an application in a "),a("code",[e._v(".war")]),e._v(" file that doesn't contain a web server. Such an app should be deployed on an external server. In our projects, we'll only use the "),a("code",[e._v(".jar")]),e._v(" format.")])]),e._v(" "),a("p",[e._v("The default embedded server is "),a("strong",[e._v("Apache Tomcat")]),e._v(" — free, open-source, lightweight, and one of the most popular servers. It remains actively developed and kept up to date.")]),e._v(" "),a("p",[e._v("Now that we know how to add Spring MVC to a project and what an embedded server means, let's create and run a web app.")]),e._v(" "),a("h2",{attrs:{id:"log"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#log"}},[e._v("#")]),e._v(" Log")]),e._v(" "),a("p",[e._v("Let's assume that we started a new Spring Boot project and just added a web dependency without any code.")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("提示")]),e._v(" "),a("p",[e._v("Don't forget that we can generate a basic Spring Boot project using "),a("a",{attrs:{href:"https://start.spring.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Spring Initializr"),a("OutboundLink")],1),e._v(" or special IDE. Here is a "),a("a",{attrs:{href:"https://www.jetbrains.com/idea/guide/tutorials/getting-started-spring-data-jpa/creating-spring-boot-project/",target:"_blank",rel:"noopener noreferrer"}},[e._v("link"),a("OutboundLink")],1),e._v(" describing how to generate project using IntelliJ IDEA. In this topic we use "),a("code",[e._v("jar")]),e._v(" packaging.")])]),e._v(" "),a("p",[e._v("If we run such an app it will start the built-in Tomcat server and we'll see some new log information related to Spring MVC in the console:")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://ucarecdn.com/2697249c-1575-41aa-ac92-d26f544281d4/",alt:"img"}})]),e._v(" "),a("p",[e._v("Let's examine some of the log entries. The first line related to Spring MVC contains the following information:")]),e._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[e._v("... Tomcat initialized with port(s): 8080 (http)\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("The line shows that embedded Tomcat is starting on port "),a("code",[e._v("8080")]),e._v(". This is the default port provided by auto-configuration. We will use this port in the upcoming steps and topics unless otherwise specified. It is followed by some additional initialization, and we see a line that contains the Apache Tomcat version:")]),e._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[e._v("... Starting Servlet engine: [Apache Tomcat/9.0.45]\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("In our case, the version is "),a("code",[e._v("9.0.45")]),e._v(". This information is useful in some cases. After this, more initialization follows, and the last line related to Spring MVC contains the following information:")]),e._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[e._v("... Tomcat started on port(s): 8080 (http) with context path ''\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("The line indicates that the initialization was completed successfully and the Tomcat server is running. It also shows the default "),a("strong",[e._v("context path")]),e._v(".")]),e._v(" "),a("p",[e._v("The context path is the prefix of a URL path at which we can access the application. It is also known as sub-path or sub-directory. As we can see, the default context path is empty. It means that the web app can be accessed from "),a("code",[e._v("http://localhost:8080/")]),e._v(" URL. Apps are often hosted somewhere other than the default context path. For example, a context path like "),a("code",[e._v("blog")]),e._v(" means that the app can be accessed via a URL like "),a("code",[e._v("http://localhost:8080/blog")]),e._v(". A context path can also be nested: "),a("code",[e._v("blog/v1")]),e._v(".")]),e._v(" "),a("p",[e._v("You'll learn how to change the default port and context path in the upcoming sections — but first let's complete our app.")]),e._v(" "),a("h2",{attrs:{id:"web-page"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#web-page"}},[e._v("#")]),e._v(" Web page")]),e._v(" "),a("p",[e._v("To complete the app, we'll create a simple HTML file in a folder responsible for "),a("strong",[e._v("static content")]),e._v(", and then open it via a web browser. The location of the folder is "),a("code",[e._v("/resources/static")]),e._v(".")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("提示")]),e._v(" "),a("p",[e._v("Note If there is no "),a("code",[e._v("static")]),e._v(" folder in the "),a("code",[e._v("resources")]),e._v(" folder, we need to create it manually.")])]),e._v(" "),a("p",[e._v("This is the folder in which we can place any static content (images, stylesheets, JavaScript, and so forth) that we want to serve to the browser. Initially, it's empty. If we place an HTML file there with the name "),a("code",[e._v("index.html")]),e._v(" it will be available at the root URL.")]),e._v(" "),a("p",[e._v("Let's create an "),a("code",[e._v("index.html")]),e._v(" file with the following content:")]),e._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[e._v("DOCTYPE html>\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("html")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("lang")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("en"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("head")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("meta")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("charset")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("UTF-8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("Main"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("head")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("h1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("Welcome!"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("h1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br")])]),a("p",[e._v("Now, if we run the application again and point our web browser to "),a("code",[e._v("http://localhost:8080/")]),e._v(", we'll see the following web page:")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://ucarecdn.com/1f3926b2-f864-481b-b818-84032467cb10/",alt:"img"}})]),e._v(" "),a("p",[e._v("Also, we can access the file by its name: "),a("code",[e._v("http://localhost:8080/index.html")]),e._v(".")]),e._v(" "),a("p",[e._v("We can have multiple HTML files and access them by name as in the example above. Feel free to experiment with this. The page can look much more complex with CSS and JS.")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("提示")]),e._v(" "),a("p",[e._v("This approach can be used to create simple web apps that return hardcoded pages. More complex programs require us to add at least some amount of code. For example, we may need to include some data from a database in a web page. To do that, we will need to write the code that fetches the data from a database and adds it to the page.")])]),e._v(" "),a("p",[e._v("As mentioned earlier, we can change the default port and context path. Now, let's learn how to do that.")]),e._v(" "),a("h2",{attrs:{id:"configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configuration"}},[e._v("#")]),e._v(" Configuration")]),e._v(" "),a("p",[e._v("Usually, it's a good idea to prefer auto-configuration, but there are cases when we may want to have a custom context path or port, as well as change some other properties of the app. We can do that in the "),a("code",[e._v("application.properties")]),e._v(" file.")]),e._v(" "),a("p",[e._v("This is how we can change the port:")]),e._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[e._v("server.port=9090\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[e._v("注意")]),e._v(" "),a("p",[e._v("While writing a project, you may come across a situation when your program can't start and the log shows that the port is already in use. It means that some other program is already using the port on which you are trying to run your app. Changing the port should solve the problem.")])]),e._v(" "),a("p",[e._v("And here is how you can change the context path in Spring Boot 2.x:")]),e._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[e._v("server.servlet.context-path=/myapp\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("If we change the port and context path and run the application again we'll see that the log in the console includes these changes:")]),e._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[e._v("... Tomcat started on port(s): 9090 (http) with context path '/myapp'\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("From now on, a web app can be accessed from "),a("code",[e._v("http://localhost:9090/myapp")]),e._v(" URL.")]),e._v(" "),a("h2",{attrs:{id:"conclusion"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#conclusion"}},[e._v("#")]),e._v(" Conclusion")]),e._v(" "),a("p",[e._v("Here's what we've learned in this topic:")]),e._v(" "),a("ul",[a("li",[e._v("Spring MVC is a framework used to create web apps. You can add it to a project by using the starter dependency we discussed.")]),e._v(" "),a("li",[e._v("An embedded server is an embedded component of a web app required to run it. The default server for Spring MVC is Apache Tomcat.")]),e._v(" "),a("li",[e._v("That default port is "),a("code",[e._v("8080")]),e._v(" and the "),a("strong",[e._v("context path")]),e._v(" is empty.")]),e._v(" "),a("li",[e._v("You can change the default port and context path in the "),a("code",[e._v("application.properties")]),e._v(" file.")]),e._v(" "),a("li",[e._v("If we place an "),a("code",[e._v("index.html")]),e._v(" file in the "),a("code",[e._v("/resources/static")]),e._v(" folder, it will be available at the root URL.")]),e._v(" "),a("li",[e._v("We can place multiple HTML files in "),a("code",[e._v("/resources/static")]),e._v(" folder and access them by name.")])]),e._v(" "),a("p",[e._v("In the upcoming topics, you'll learn more about Spring Web MVC, but before you continue learning new features of this framework, let's practice what we've just learned by solving some tasks!")])])}),[],!1,null,null,null);t.default=n.exports}}]);