(window.webpackJsonp=window.webpackJsonp||[]).push([[248],{747:function(e,a,s){"use strict";s.r(a);var t=s(21),n=Object(t.a)({},(function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"唯一键-unique-key"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#唯一键-unique-key"}},[e._v("#")]),e._v(" 唯一键 unique key")]),e._v(" "),s("h2",{attrs:{id:"作用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#作用"}},[e._v("#")]),e._v(" 作用")]),e._v(" "),s("p",[e._v("保证数据不能重复")]),e._v(" "),s("blockquote",[s("p",[e._v("不是用来区分的，表示该字段的值在当前表中唯一")])]),e._v(" "),s("h2",{attrs:{id:"要点-唯一键与主键的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#要点-唯一键与主键的区别"}},[e._v("#")]),e._v(" 要点（唯一键与主键的区别）")]),e._v(" "),s("ul",[s("li",[e._v("唯一键唯一键，值唯一，不能重复")]),e._v(" "),s("li",[e._v("一个表中可以有多个唯一键（主键只能有一个）")]),e._v(" "),s("li",[e._v("唯一键只在当前表中瞎凑合（主键可能也会在别的表里凑热闹）")]),e._v(" "),s("li",[e._v("唯一键的值可为"),s("code",[e._v("null")])])]),e._v(" "),s("h2",{attrs:{id:"唯一键的添加、删除"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#唯一键的添加、删除"}},[e._v("#")]),e._v(" 唯一键的添加、删除")]),e._v(" "),s("h3",{attrs:{id:"添加唯一键"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#添加唯一键"}},[e._v("#")]),e._v(" 添加唯一键")]),e._v(" "),s("ul",[s("li",[s("p",[e._v("创建表时添加唯一键 "),s("code",[e._v("phone")])]),e._v(" "),s("div",{staticClass:"language-mysql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("create table test_1(\n\tid int primary key,\n    phone varchar(20) unique\t# 唯一键 phone\n\t);\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br")])]),s("p",[e._v("或添加多个唯一键 "),s("code",[e._v("name")]),e._v("、"),s("code",[e._v("phone")])]),e._v(" "),s("div",{staticClass:"language-mysql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("create table test_2(\n\tid int primary key,\n    name varchar(30) unique,\n    phone varchar(20) unique\n\t);\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br")])]),s("p",[e._v("使用 "),s("code",[e._v("desc test_1;")]),e._v(" 显示表结构可以发现，"),s("code",[e._v("phone")]),e._v(" 可以为空，且它的"),s("strong",[e._v("Key")]),e._v("为 "),s("code",[e._v("UNI")])]),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("提示")]),e._v(" "),s("p",[e._v("当你试图使用 "),s("code",[e._v("insert")]),e._v(" 重复插入相同的值时，会出现 "),s("code",[e._v("Duplicate entry")]),e._v(" 的错误提示，其表示"),s("strong",[e._v("重复录入")]),e._v("。")])])]),e._v(" "),s("li",[s("p",[e._v("后期添加唯一键")]),e._v(" "),s("div",{staticClass:"language-mysql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("alter table <TableName> add unique (<FieldName>);\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])])]),e._v(" "),s("li",[s("p",[e._v("添加复合唯一键")]),e._v(" "),s("div",{staticClass:"language-mysql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("alter table <TableName> add unique (<FieldName1>,<FieldName2>[,<FieldName3>]);\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[e._v("注意")]),e._v(" "),s("p",[e._v("复合的唯一键意义不大，一般都不会讨论这个问题。\n当你试图添加复合唯一键的时候，可能会诱发一些🤏有意思的现象，比如Key可能会变为 "),s("code",[e._v("MUI")])])])])]),e._v(" "),s("h3",{attrs:{id:"删除唯一键"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除唯一键"}},[e._v("#")]),e._v(" 删除唯一键")]),e._v(" "),s("div",{staticClass:"language-mysql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("alter table <TableName> drop index unique <FieldName>;\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);