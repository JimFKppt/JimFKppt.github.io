---
title: Book
date: 2022-05-07 17:45:19
permalink: /pages/8f9095/
tags:
  - Java
  - Code question
---
## Topic
Constructor

## Problem

**Book**

Write a class named `Book`. It must have three fields: a string field `title`, an int field `yearOfPublishing`, an array of strings `authors` and a constructor to initialize these fields. The order of parameters in the constructor must be the same as presented above.

## Hint & Explain

> https://stackoverflow.com/questions/14149733/clone-method-for-java-arrays this article helped me with understanding (a little anyway) on reference and value in arrays and their clones.

> If you're running into "The user-supplied array 'authors' is stored directly", you need to make a copy within the object when it gets passed instead of storing it directly. Import `java.utils.Arrays`, then use `Arrays.copyOf(authors, authors.length)`

> avoid to store array directly http://geeksforgeekss.blogspot.com/2016/05/sonar-violation-security-array-is.html

## Solution
### Other solution 1
```java
class Book {
    String title;
    int yearOfPublishing;
    String[] authors;

    public Book(String title, int yearOfPublishing, String[] authors) {
        this.title = title;
        this.yearOfPublishing = yearOfPublishing;
        this.authors = authors.clone();
    }
}
```
### Other solution 2
```java
import java.util.Arrays;

class Book {
    String title;
    int yearOfPublishing;
    String[] authors;

    public Book(String title, int yearOfPublishing, String[] authors) {
        this.title = title;
        this.yearOfPublishing = yearOfPublishing;
        if (authors == null) {
            this.authors = new String[0];
        } else {
            this.authors = Arrays.copyOf(authors, authors.length);
        }
    }
}
```