---
title: 虚拟机Linux网络设置
date: 2022-04-17 19:20:20
permalink: /pages/4e011c/
tags:
  - 
---
## 虚拟机Linux设置NAT网络

虚拟机网络设置为NAT桥接。

然后在 Terminal 中切换到 root 用户进行如下操作：

1.  用编辑器打开 `/etc/sysconfig/network-script/ifcfg-ens33` 
2.  将 `ONBOOT=no` 改为 `ONBOOT=yes` 
3.  重启网络 `systemctl restart network` 
4.  `ping www.baidu.com` 

## 虚拟机Linux设置桥接网络

虚拟机网咯设置为桥接模式。

### 物理机网络参数信息

`IP地址、子网掩码、默认网关、DNS`

在系统中打开文件 `/etc/sysconfig/network-script/ifcfg-ens33` 添加如下字段：

```shell
IPADDR=...
NETMASK=...
GATEWAY=...
DNS1=...
```

四个字段分别对应 `IP地址、子网掩码、默认网关、DNS`，参数根据自己物理机所处局域网来填（通常除了IP地址有一点不同，其他三个参数跟物理机一样）。

然后将 `BOOTPROTO=dhcp` 改为 `BOOTPROTO=none`

如果物理机是Windows,可在终端用 `ipconfig` 命令来查看。

填好参数后重启网络：`systemctl restart network`

## 可能出现的错误

### 重启网络出现错误

```shell
Job for network.service failed because the control process exited with error code. See "systemctl status network.service" and "journalctl -xe" for details.
```

#### 解决方案

[解决方案链接](https://programmerah.com/solved-job-for-network-service-failed-because-the-control-process-exited-with-error-code-see-systemctl-st-29038/)

大概率是与 `NetworkManager` 冲突了，关闭即可：

```shell
systemctl stop NetworkManager
```
