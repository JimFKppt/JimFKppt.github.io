---
title: 字符集编码问题
date: 2022-04-15 00:29:44
permalink: /pages/c9916e/
tags:
  - 
---
# 字符集编码问题

## 情景

Windows上的MySQL客户端使用中文出现乱码问题。那就要检查一下终端使用的字符集了，比如cmd就是 `gbk` 字符集。

## 查看客户端和显示结果使用的字符集编码

```mysql
show variables like 'character_set_%';
```

显示如下：

```mysql
+--------------------------+---------------------------------------------------------+
| Variable_name            | Value                                                   |
+--------------------------+---------------------------------------------------------+
| character_set_client     | gbk                                                     |
| character_set_connection | gbk                                                     |
| character_set_database   | gbk                                                     |
| character_set_filesystem | binary                                                  |
| character_set_results    | gbk                                                     |
| character_set_server     | latin1                                                  |
| character_set_system     | utf8                                                    |
| character_sets_dir       | C:\Program Files\MySQL\MySQL Server 5.7\share\charsets\ |
+--------------------------+---------------------------------------------------------+
```

其中最主要的就是 `character_set_client` 和 `character_set_results`，在Windows上只要确保最主要的这两个值为 `gbk` 就行了，在实际开发过程中这些值肯定都是 `utf8`。

## 修改字符集编码

```mysql
set character_set_client=gbk;
```

```mysql
set character_set_results=gbk;
```

> 注意！初学者在Windows上使用GBK没毛病，但是千万不要把公司里的也改成GBK！一定不能瞎几把搞！

