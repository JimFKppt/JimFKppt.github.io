---
title: 清空表——truncate
date: 2022-04-10 15:55:22
permalink: /pages/1f5f2d/
categories:
  - MySQL
  - MySQL删库跑路
  - 数据操作“增删改查”
tags:
  - 
---
# 清空表

## Truncate table

虽然 `delete from <TableName>` 可以清空表，但它会一条一条的遍历这样删除，会很慢！

清空表通常使用 `truncate table <TableName>;`，它会克隆表的结构做个新表，然后把原表直接销毁掉。

## Example

有如下一张 `student` 表：

```mysql
+----+------+------+
| id | name | age  |
+----+------+------+
|  1 | Tom  |   19 |
|  2 | Tom  |   10 |
|  3 | Jim  |   20 |
|  4 | Jim  |   39 |
+----+------+------+
```
清空表：
```mysql
turncate table student;
```
查看：成功
```mysql
mysql> select * from student;
Empty set (0.00 sec)
```



## 反例 - 不建议使用 `delete from <TableName>` 来清空表！

有如下一张 `student` 表：

```mysql
+----+-------+------+
| id | name  | age  |
+----+-------+------+
|  2 | Tom   |   18 |
|  3 | Jerry |   22 |
+----+-------+------+
```

使用 `delete from <TableName>` 来清空表：

```mysql
delete from student;
```

然后像下面这样追加一条数据（注意 `null`）：

```mysql
insert into student values (null, 'Jim', 20);
```

查看表：

```mysql
+----+-------+------+
| id | name  | age  |
+----+-------+------+
|  4 | Jim   |   20 |
+----+-------+------+
```

注意这一条数据的 `id`，居然是 `4` ?! ——一定要去研究一下为什么会这样。

而如果使用 `turncate table student` 清空表则不会出现这样的情况。
