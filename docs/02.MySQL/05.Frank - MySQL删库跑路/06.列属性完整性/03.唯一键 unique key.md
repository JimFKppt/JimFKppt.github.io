---
title: 唯一键 unique key
date: 2022-04-15 12:41:05
permalink: /pages/dc235f/
tags:
  - 
---
# 唯一键 unique key

## 作用

保证数据不能重复

> 不是用来区分的，表示该字段的值在当前表中唯一

## 要点（唯一键与主键的区别）

- 唯一键唯一键，值唯一，不能重复
- 一个表中可以有多个唯一键（主键只能有一个）
- 唯一键只在当前表中瞎凑合（主键可能也会在别的表里凑热闹）
- 唯一键的值可为`null`

## 唯一键的添加、删除

### 添加唯一键

- 创建表时添加唯一键 `phone`

  ```mysql
  create table test_1(
  	id int primary key,
      phone varchar(20) unique	# 唯一键 phone
  	);
  ```

  或添加多个唯一键 `name`、`phone`

  ```mysql
  create table test_2(
  	id int primary key,
      name varchar(30) unique,
      phone varchar(20) unique
  	);
  ```

  使用 `desc test_1;` 显示表结构可以发现，`phone` 可以为空，且它的**Key**为 `UNI`

  ::: tip
  当你试图使用 `insert` 重复插入相同的值时，会出现 `Duplicate entry` 的错误提示，其表示**重复录入**。
  :::

- 后期添加唯一键

  ```mysql
  alter table <TableName> add unique (<FieldName>);
  ```
  
- 添加复合唯一键

    ```mysql
    alter table <TableName> add unique (<FieldName1>,<FieldName2>[,<FieldName3>]);
    ```
    
    ::: warning
    复合的唯一键意义不大，一般都不会讨论这个问题。
    当你试图添加复合唯一键的时候，可能会诱发一些🤏有意思的现象，比如Key可能会变为 `MUI`
    :::



### 删除唯一键

```mysql
alter table <TableName> drop index unique <FieldName>;
```



